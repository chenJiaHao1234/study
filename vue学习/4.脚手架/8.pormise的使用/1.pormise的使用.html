<!-- pormise æ˜¯ä»€ä¹ˆï¼Ÿ -->
<!-- pormise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>ç½‘ç»œè¯·æ±‚æ•°æ®aaa</button>
    <script>
        // promise åœ¨åˆ›å»ºæ—¶å°±éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•° 
        // ä¼ å…¥çš„å‡½æ•°åŒ…å«ä¸¤ä¸ªå‚æ•° resolve(è§£å†³) reject(æ‹’ç»)
        // åœ¨ promise ä¸­è°ƒç”¨ resolve()/reject() ä¼šæ‰§è¡Œ then()/catch()
    
        // ç®€å•æ¥è¯´å°±æ˜¯ä¸€æ—¦æœ‰å¼‚æ­¥æ“ä½œæ—¶å°±ç”¨promiseåŒ…èµ·æ¥
        // å½“å¼‚æ­¥æ“ä½œæ‹¿åˆ°ç»“æœæ—¶é€šè¿‡è°ƒç”¨ resolve() æŠŠä»£ç ä¼ åˆ° then() è¿›è¡Œå¤„ç†
        new Promise((resolve, reject) => {
            // ç¬¬ä¸€æ¬¡ç½‘ç»œè¯·æ±‚
            setTimeout(() => {
    
                // ç½‘ç»œè¯·æ±‚æˆåŠŸçš„æ—¶å€™è°ƒç”¨resolve ä¼šåˆ° then æ‰§è¡Œ
                resolve(),
    
                // ç½‘ç»œè¯·æ±‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨reject ä¼šåˆ° catch æ‰§è¡Œ
                reject()
            }, 3000);
        }).then(() => {
            // ç¬¬ä¸€æ¬¡æ‹¿åˆ°ç»“æœçš„å¤„ç†ä»£ç 
            console.log('hello');
            console.log('hello');
            console.log('hello');
            return new Promise((resolve, reject) => {
                // ç¬¬äºŒæ¬¡ç½‘ç»œè¯·æ±‚
                setTimeout(() => {
                    resolve()
                }, 3000)
            }).then(() => {
                // ç¬¬äºŒæ¬¡æ‹¿åˆ°ç»“æœçš„å¤„ç†ä»£ç 
                console.log('good morning');
                console.log('good morning');
                console.log('good morning');
            })
        }).catch(() => {

        });


        // ç»ƒä¹  
        // è¦æ±‚ï¼š 
        // 1. ç½‘ç»œè¯·æ±‚åˆ°æ•°æ® aaa -> å¯¹è¯·æ±‚åˆ°çš„ä»£ç è¿›è¡Œå¤„ç†
        // 2. å¯¹è¯·æ±‚åˆ°çš„æ•°æ® aaa è¿›è¡Œæ‹¼æ¥ 111  åœ¨å¯¹æ•°æ®è¿›è¡Œå¤„ç†
        // 3. ç»§ç»­æ‹¼æ¥ 222 å†å¯¹æ•°æ®è¿›è¡Œå¤„ç†
        let btn = document.querySelector('button')
        new Promise((resolve, reject) => {
            btn.addEventListener('click', () => {
                resolve('aaa')
            })
        }).then((res) => {
            console.log('å¤„ç†' + res);

            return new Promise((resolve, reject) => {
                resolve(res + '111')
            }).then((res) => {
                console.log('å¤„ç†' + res);

                    //  ğŸ‘‡ new Promise ç®€å†™
                return Promise.resolve(res + '222').then((res) => {
                    console.log('å¤„ç†' + res);
                })
            })
        })
    </script>
</body>
</html>